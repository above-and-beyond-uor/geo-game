{
  "all_procs": {
    "procedure_1.csv": "item,phasetype,max time,text,shuffle 1,map_file,location_sheet,longitude_min,longitude_max,latitude_min,latitude_max,radar_radius,user_radius,\r\n0,instruct,,\"You're about to see a map of campus with trivia questions and locations. Once you've reached a location that has a [?] symbol it will turn into a blue button you can press. Once you have completed the location it will turn gold.<br><br>\r\nThis website will not store information, including your location. Your phone will use your location to work out where you are on our map. <br><br>\r\nPlease only use this app during the day time.<br><br>\r\nHave fun!\r\n\",,,,,,,,,,\r\n2,geo_location,user,This is the start of a new experiment.,off,../User/Projects/uor/campus.png,locations.csv,-0.9565,-0.9303,51.434,51.4464,100px,20px,"
  },
  "conditions": "name,notes,stimuli,procedure,fullscreen,welcome,participant_id,end_message,start_message,buffer,scripts,skip_quality,\r\ncondition_1,You can put more detailed notes in this field,stimuli_1.csv,procedure_1.csv,off,,off,,,5,,yes,",
  "all_stims": {
    "stimuli_1.csv": "cue,answer,\r\nA,Apple,\r\nB,Banana,\r\n,,",
    "locations.csv": "long,lat,btn_text,main_text,hidden,class,id,status,question,correct_answer,incorrect_answers,\r\n-0.946031,51.440885,Edith Morley Building,\"This building, previously known as the HumSS is named after Edith Morley, who was appointed Professor in Reading in 1908 and is believed to be the first woman awarded the title of professor in a British university. \n\n<br><br>\n<h3>What subject was her title in?</h3>\n\n<button class=\"\"morley_wrong btn btn-primary\"\">Art</button>\n<button class=\"\"morley_right btn btn-primary\"\">English</button>\n<button class=\"\"morley_wrong btn btn-primary\"\">Mathematics</button>\n<button class=\"\"morley_wrong btn btn-primary\"\">Physics</button>\n<button class=\"\"morley_wrong btn btn-primary\"\">Psychology</button>\n\n<script>\n$(\"\".morley_wrong\"\").on(\"\"click\"\", function(){\n  bootbox.alert(\"\"Nope, try again\"\");\n});\n\n$(\"\".morley_right\"\").on(\"\"click\"\", function(){\n  bootbox.alert(\"\"Correct!\"\");\n  $(\"\"#location_edith_morley\"\").removeClass(\"\"btn-secondary\"\")  \n    .removeClass(\"\"btn-primary\"\")\n    .addClass(\"\"btn-warning\"\");\n});\n\n</script>\n\",no,,location_edith_morley,done,later,later,later,\r\n-0.945248,51.441445,Minghella Building,\"<h3>Opened in 2012 this houses the film & Tv department, containing a 72 seat cinema and a 100 seat theatre.</h3>\n\n<button class=\"\"cinema_right btn btn-primary\"\">Nice, might stop by</button>\n<button class=\"\"cinema_right btn btn-primary\"\">Theatre and films aren't my thing</button>\n\n<script>\n$(\"\".cinema_right\"\").on(\"\"click\"\", function(){\n  bootbox.alert(\"\"Indeed! You can move on to the next location now.\"\");\n  $(\"\"#location_minghella\"\").removeClass(\"\"btn-secondary\"\")  \n    .removeClass(\"\"btn-primary\"\")\n    .addClass(\"\"btn-warning\"\");\n});\n</script>\n\",no,,location_minghella,done,later,later,later,\r\n-0.948434,51.443590,Tennis & Athletics,\"Fancy a bit of sport? \n<br><br>\n<h3>How many gold medals did University of Reading Alumni win in rowing in the 2012 olympics</h3>\n\n<button id=\"\"sport_1_button\"\"  class=\"\"sport_wrong btn btn-primary\"\">0</button>\n<button id=\"\"sport_1_button\"\"  class=\"\"sport_wrong btn btn-primary\"\">1</button>\n<button id=\"\"sport_1_button\"\"  class=\"\"sport_right btn btn-primary\"\">2</button>\n<button id=\"\"sport_1_button\"\"  class=\"\"sport_wrong btn btn-primary\"\">3</button>\n<button id=\"\"sport_1_button\"\"  class=\"\"sport_wrong btn btn-primary\"\">4</button>\n<button id=\"\"sport_1_button\"\"  class=\"\"sport_wrong btn btn-primary\"\">5</button>\n\n\n<script>\n$(\"\".sport_wrong\"\").on(\"\"click\"\", function(){\n  bootbox.alert(\"\"Nope, try again\"\");\n});\n\n$(\"\".sport_right\"\").on(\"\"click\"\", function(){\n  bootbox.alert(\"\"Correct!\"\");\n  $(\"\"#location_sportspark\"\").removeClass(\"\"btn-secondary\"\")  \n    .removeClass(\"\"btn-primary\"\")\n    .addClass(\"\"btn-warning\"\");\n});\n\n</script>\",no,,location_sportspark,done,later,later,later,\r\n-0.947037,51.444090,Windsor Hall,\"The most centrally located Hall on campus with 221 catered rooms with some flats having up to 26 people!\n<br>\n<button id=\"\"windsor_1_button\"\"  class=\"\"windsor_confirm btn btn-primary\"\">26 seems like a lot!</button>\n\n<script>\n$(\"\".windsor_confirm\"\").on(\"\"click\"\", function(){\n  bootbox.alert(\"\"Indeed! You can move on to the next location now.\"\");\n  $(\"\"#location_windsor\"\").removeClass(\"\"btn-secondary\"\")  \n    .removeClass(\"\"btn-primary\"\")\n    .addClass(\"\"btn-warning\"\");\n});\n</script>\",no,,location_windsor,done,later,later,later,\r\n-0.942163,51.445315,Foxhill House,\"<h3>Built in 1868 to a Gothic Revival architectural style, today it houses which school?</h3>\n\n<button id=\"\"law_1_button\"\"  class=\"\"law_wrong btn btn-primary\"\">Art</button>\n<button id=\"\"law_2_button\"\"  class=\"\"law_wrong btn btn-primary\"\">Architecture</button>\n<button id=\"\"law_2_button\"\"  class=\"\"law_wrong btn btn-primary\"\">English</button>\n<button id=\"\"law_3_button\"\"  class=\"\"law_wrong btn btn-primary\"\">Gothic Architecture</button>\n<button id=\"\"law_3_button\"\"  class=\"\"law_right btn btn-primary\"\">Law</button>\n<button id=\"\"law_4_button\"\"  class=\"\"law_wrong btn btn-primary\"\">Mathematics</button>\n\n<script>\n$(\"\".law_wrong\"\").on(\"\"click\"\", function(){\n  bootbox.alert(\"\"Nope, try again\"\");\n});\n\n$(\"\".law_right\"\").on(\"\"click\"\", function(){\n  bootbox.alert(\"\"Correct!\"\");\n  $(\"\"#location_foxhill\"\").removeClass(\"\"btn-secondary\"\")  \n    .removeClass(\"\"btn-primary\"\")\n    .addClass(\"\"btn-warning\"\");\n});\n\n</script>\",no,,location_foxhill,done,later,later,later,\r\n-0.939082,51.444913,Whiteknights Lake,\"\nAn artifical lake formed long ago, when water levels get very high the gate below can open to let out the excess water.\n\n<h3>We know H20 is water, but what is H204?</h3>\n\n<button class=\"\"whiteknight_right btn btn-primary\"\">Drinking</button>\n<button class=\"\"whiteknight_right btn btn-primary\"\">Scuber-diving</button>\n<button class=\"\"whiteknight_right btn btn-primary\"\">Washing</button>\n<button class=\"\"whiteknight_right btn btn-primary\"\">What? Ohh... it's a joke.</button>\n\n<script>\n$(\"\".whiteknight_right\"\").on(\"\"click\"\", function(){\n  bootbox.alert(\"\"Indeed! You can move on to the next location now.\"\");\n  $(\"\"#location_whiteknights\"\").removeClass(\"\"btn-secondary\"\")  \n    .removeClass(\"\"btn-primary\"\")\n    .addClass(\"\"btn-warning\"\");\n});\n</script>\",no,,location_whiteknights,done,later,later,later,\r\n-0.937306,51.443437,Wessex Halls,\"<h3>One of the more traditional halls on campus with the typical open corridor style. With 196 rooms, study area and it's own bar a pretty good hall.</h3>\n\n<button class=\"\"wessex_right btn btn-primary\"\">Sounds nice</button>\n\n<script>\n$(\"\".wessex_right\"\").on(\"\"click\"\", function(){\n  bootbox.alert(\"\"Indeed! You can move on to the next location now.\"\");\n  $(\"\"#location_wessex\"\").removeClass(\"\"btn-secondary\"\")  \n    .removeClass(\"\"btn-primary\"\")\n    .addClass(\"\"btn-warning\"\");\n});\n\n</script>\",no,,location_wessex,done,later,later,later,\r\n-0.936642,51.443198,The Secret Garden,\"<div style=\"\"font-size:10px\"\">Shssss it is a secret.</div> \nIf you are interested in growing some of your own food then look up the society at <a href=\"\"https://www.rusu.co.uk/student-activities/volunteering/soc/studenteatsgarden/\"\" target=\"\"_blank\"\">https://www.rusu.co.uk/student-activities/volunteering/soc/studenteatsgarden/</a>\n<br><br>\n\n\n<h3>The Chamber of <u>Secrets</u> features in which film/book series?</h3>\n\n\n<button class=\"\"secret_wrong btn btn-primary\"\">Avengers/Marvel</button>\n<button class=\"\"secret_wrong btn btn-primary\"\">Fast and Furious</button>\n<button class=\"\"secret_right btn btn-primary\"\">Harry Potter</button>\n<button class=\"\"secret_wrong btn btn-primary\"\">Jurassic Park/World</button>\n<button class=\"\"secret_wrong btn btn-primary\"\">Star Wars</button>\n\n<script>\n$(\"\".secret_wrong\"\").on(\"\"click\"\", function(){\n  bootbox.alert(\"\"Nope, try again\"\");\n});\n\n$(\"\".secret_right\"\").on(\"\"click\"\", function(){\n  bootbox.alert(\"\"Correct!\"\");\n  $(\"\"#location_secret_garden\"\").removeClass(\"\"btn-secondary\"\")  \n    .removeClass(\"\"btn-primary\"\")\n    .addClass(\"\"btn-warning\"\");\n});\n\n</script>\",no,,location_secret_garden,done,later,later,later,\r\n-0.934545,51.439159,Region 6 War Room,\"A Grade 2 listed structure that was built in the early 1950s to co-ordinate civil defence in the event of nuclear war.\n\n<h3>What is it used for today?</h3>\n\n\n<button id=\"\"war_room_1_button\"\"  class=\"\"war_room_right btn btn-primary\"\">Additional storage</button>\n<button id=\"\"war_room_2_button\"\"  class=\"\"war_room_wrong btn btn-primary\"\">Arts and Crafts</button>\n<button id=\"\"war_room_3_button\"\"  class=\"\"war_room_wrong btn btn-primary\"\">Defence planning</button>\n\n<script>\n$(\"\".war_room_wrong\"\").on(\"\"click\"\", function(){\n  bootbox.alert(\"\"Nope, try again\"\");\n});\n\n$(\"\".war_room_right\"\").on(\"\"click\"\", function(){\n  bootbox.alert(\"\"Correct!\"\");\n  $(\"\"#location_war_room\"\").removeClass(\"\"btn-secondary\"\")  \n    .removeClass(\"\"btn-primary\"\")\n    .addClass(\"\"btn-warning\"\");\n});\n\n</script>\",no,,location_war_room,done,later,later,later,\r\n-0.935653,51.438311,Agriculture,\"<h3>One of the stalwarts of Reading is the Agriculture department, where are we consistently ranked in the UK's top universities for impact in Agricultural Sciences research?</h3>\n\n<button class=\"\"agriculture_right btn btn-primary\"\">First</button>\n<button class=\"\"agriculture_wrong btn btn-primary\"\">Second</button>\n<button class=\"\"agriculture_wrong btn btn-primary\"\">Third</button>\n<button class=\"\"agriculture_wrong btn btn-primary\"\">Last :-(</button>\n\n<script>\n$(\"\".agriculture_wrong\"\").on(\"\"click\"\", function(){\n  bootbox.alert(\"\"Nope, try again\"\");\n});\n\n$(\"\".agriculture_right\"\").on(\"\"click\"\", function(){\n  bootbox.alert(\"\"Correct!\"\");\n  $(\"\"#location_agriculture\"\").removeClass(\"\"btn-secondary\"\")  \n    .removeClass(\"\"btn-primary\"\")\n    .addClass(\"\"btn-warning\"\");\n});\n\n</script>\",no,,location_agriculture,done,later,later,later,\r\n-0.938530,51.438104,The Wilderness,\"<h3>The University of Reading is one of the greenest and most biodiverse campuses around, what creatures can you see from here?</h3>\n\n<button class=\"\"wilderness_wrong btn btn-primary\"\">Dinosaurs</button>\n<button class=\"\"wilderness_right btn btn-primary\"\">Ducks and other birds</button>\n<button class=\"\"wilderness_wrong btn btn-primary\"\">Elephants</button>\n<button class=\"\"wilderness_wrong btn btn-primary\"\">Giraffes</button>\n<button class=\"\"wilderness_wrong btn btn-primary\"\">Llamas</button>\n<button class=\"\"wilderness_right btn btn-primary\"\">Mice and other rodents</button>\n\n<script>\n$(\"\".wilderness_wrong\"\").on(\"\"click\"\", function(){\n  bootbox.alert(\"\"Nope, try again\"\");\n});\n\n$(\"\".wilderness_right\"\").on(\"\"click\"\", function(){\n  bootbox.alert(\"\"Correct!\"\");\n  $(\"\"#location_wilderness\"\").removeClass(\"\"btn-secondary\"\")  \n    .removeClass(\"\"btn-primary\"\")\n    .addClass(\"\"btn-warning\"\");\n});\n\n</script>\",no,,location_wilderness,done,later,later,later,\r\n-0.940900,51.435657,Harris Garden,\"The perfect place for a picnic, full of plants from around the world\n<br>\n<br>\n<h5>Hedge maze</h5>\nTrue or false: There used to be a hedge maze here, but too many students got lost in it while inebriated, so this had to be discontinued? <br>\n<br>\n<button id=\"\"harris_true_button\"\" class=\"\"btn btn-primary\"\">True</button>\n<button id=\"\"harris_false_button\"\"  class=\"\"btn btn-primary\"\">False</button>\n<script>\n$(\"\"#harris_true_button\"\").on(\"\"click\"\", function(){\n  bootbox.alert(\"\"We have no evidence of this, so we assume it's false.\"\");\n});\n\n$(\"\"#harris_false_button\"\").on(\"\"click\"\", function(){\n  setTimeout(function(){\n    $(\"\".sports\"\").show();\n  },100);\n  bootbox.alert(\"\"Correct!\"\");\n  $(\"\"#location_harris\"\").removeClass(\"\"btn-secondary\"\")  \n    .removeClass(\"\"btn-primary\"\")\n    .addClass(\"\"btn-warning\"\");\n});\n\n</script>\n\",no,,location_harris,done,\"True or false: There used to be a hedge maze here, but too many students got lost in it while inebriated, so this had to be discontinued?\",false,true,\r\n-0.943352,51.438318,Cole Museum of Zoology,\"<h5>What is the massive Skeleton from?</h5>\n<button class=\"\"skeleton_wrong btn btn-primary\"\">A Dinosaur</button>\n<button class=\"\"skeleton_wrong btn btn-primary\"\">A Duck or Bird</button>\n<button class=\"\"skeleton_right btn btn-primary\"\">An Elephant</button>\n<button class=\"\"skeleton_wrong btn btn-primary\"\">A Giraffe</button>\n<button class=\"\"skeleton_wrong btn btn-primary\"\">A Llama</button>\n<button class=\"\"skeleton_wrong btn btn-primary\"\">A Mouse or Rodent</button>\n<script>\n$(\"\".skeleton_wrong\"\").on(\"\"click\"\", function(){\n  bootbox.alert(\"\"Nope, try again\"\");\n});\n\n$(\"\".skeleton_right\"\").on(\"\"click\"\", function(){\n  bootbox.alert(\"\"Correct!\"\");\n  $(\"\"#location_cole\"\").removeClass(\"\"btn-secondary\"\")  \n    .removeClass(\"\"btn-primary\"\")\n    .addClass(\"\"btn-warning\"\");\n});\n\n</script>\",no,,location_cole,done,What is the massive Skeleton from?,an elephant,\"dinosaur,giraffe,llama\",\r\n-0.942661,51.440863,Your Students Union,\"<h3>With 150+ Clubs & Societies along with study space, advice, food, drink, merch and the biggest nightclub in Berkshire RUSU has so much to offer you!\n</h3>\n\n<button class=\"\"rusu_right btn btn-primary\"\">Sounds good!</button>\n\n<script>\n\n$(\"\".rusu_right\"\").on(\"\"click\"\", function(){\n  bootbox.alert(\"\"Indeed! You can move on to the next location now.\"\");\n  $(\"\"#location_union\"\").removeClass(\"\"btn-secondary\"\")  \n    .removeClass(\"\"btn-primary\"\")\n    .addClass(\"\"btn-warning\"\");\n});\n\n</script>\",no,,location_union,done,later,later,later,\r\n,,,,,,,,,,,"
  },
  "location": "above-and-beyond-uor/geo-game/uor",
  "public_key": "MXyPLK2HTTpr/7TNlrfszdvO8cK1XBK0B9PW7TsAGWQ=",
  "surveys": {},
  "trialtypes": {},
  "code": {
    "instruct": "<!--\n/*  Collector (Garcia, Kornell, Kerr, Blake & Haffey)\n    A program for running experiments on the web\n    Copyright 2012-2016 Mikey Garcia & Nate Kornell\n\n\n    This program is free software: you can redistribute it and/or modify\n    it under the terms of the GNU General Public License version 3 as published by\n    the Free Software Foundation.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program.  If not, see <http://www.gnu.org/licenses/>\n \t\t\n\t\tKitten/Cat release (2019-2021) author: Dr. Anthony Haffey (team@someopen.solutions)\t\t\n*/\n-->\n<style>\n#instruct_text{\n  margin:auto;\n  width:500px;\n  padding:50px;\n  max-height:600px;\n  text-align: center;  \n}\n#proceed_button{\n  position:absolute;\n  right: 20px;\n}\n#trial_contents{\n  position: absolute;\n  top:0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin:auto;\n  width:600;\n  height:600;\n}\n</style>\n<div id=\"trial_contents\">\n  <div id=\"instruct_text\">{{text}}</div>\n  <div>\n    <button class=\"btn btn-primary\" id=\"proceed_button\" onclick=\"Phase.submit()\">Proceed</button>\n  </div>\n</div>",
    "geo_location": "<!DOCTYPE html>\r\n<html>\r\n<style>\r\n#your_location{\r\n  !background-color: blue;\r\n  border-radius: {{user_radius}};\r\n  width: {{user_radius}};\r\n  height: {{user_radius}};\r\n  position:absolute;\r\n  animation: pulse 2s infinite;\r\n}\r\n#detection_radius{\r\n  border-radius: {{radar_radius}};\r\n  border-width:5px !important;\r\n  width:  {{radar_radius}};\r\n  height: {{radar_radius}};\r\n  position:absolute;\r\n  background-color:blue;\r\n  opacity: 0.5;\r\n}\r\n\r\n.pulsate {\r\n  animation: pulse 2s infinite;\r\n}\r\n\r\n@keyframes pulse {\r\n\t0% {\r\n\t\ttransform: scale(0.5);\r\n\t\t!box-shadow: 0 0 0 0 rgba(0, 0, 0, 0.7);\r\n\t\t!border-radius: 50%;\r\n\t}\r\n\r\n\t70% {\r\n\t\ttransform: scale(1);\r\n\t\t!box-shadow: 0 0 0 10px rgba(0, 0, 0, 0);\r\n\t\t!border-radius: 50%;\r\n\t}\r\n\r\n\t100% {\r\n\t\ttransform: scale(0.5);\r\n\t\t!box-shadow: 0 0 0 0 rgba(0, 0, 0, 0);\r\n\t\t!border-radius: 50%;\r\n\t}\r\n}\r\n#campus_map{\r\n  width:900px;\r\n  height:900px;\r\n}\r\n</style>\r\n<body>\r\n\r\n<img id=\"campus_map\" src=\"{{map_file}}\"/>\r\n\r\n<div id=\"detection_radius\" class=\"border border-primary\"></div>\r\n<div id=\"your_location\" class=\"bg-primary\"></div>\r\n<div id=\"lat_long\"></div>\r\n<button id=\"move_up\">Up</button>\r\n<button id=\"move_down\">Down</button>\r\n<button id=\"move_right\">right</button>\r\n<button id=\"move_left\">Left</button>\r\n<button id=\"show_locations\">show all locations</button>\r\n\r\n<p id=\"demo\"></p>\r\n\r\n<script>\r\nvar pilot_object = {\r\n  down: 0,\r\n  right: 0\r\n}\r\n\r\n$(\"#move_up\").on(\"click\",function(){\r\n  pilot_object.down -= 50;\r\n});\r\n$(\"#move_down\").on(\"click\",function(){\r\n  pilot_object.down += 50;\r\n});\r\n$(\"#move_left\").on(\"click\",function(){\r\n  pilot_object.right -= 50;\r\n});\r\n$(\"#move_right\").on(\"click\",function(){\r\n  pilot_object.right += 50;\r\n});\r\n\r\n\r\n\r\nfunction center_coords(x_pos,y_pos,element){\r\n  var element_width  = element.css(\"width\").replace(\"px\",\"\");\r\n  var element_height = element.css(\"height\").replace(\"px\",\"\");\r\n  element.css(\"left\", x_pos - element_width/2);\r\n  element.css(\"top\", y_pos - element_height/2);\r\n}\r\n\r\n//https://stackoverflow.com/a/23339967\r\nfunction collidesWith (element1, element2) {\r\n  var Element1 = {};\r\n  var Element2 = {};\r\n\r\n  Element1.top = $(element1).offset().top;\r\n  Element1.left = $(element1).offset().left;\r\n  Element1.right = Number($(element1).offset().left) + Number($(element1).width());\r\n  Element1.bottom = Number($(element1).offset().top) + Number($(element1).height());\r\n\r\n  Element2.top = $(element2).offset().top;\r\n  Element2.left = $(element2).offset().left;\r\n  Element2.right = Number($(element2).offset().left) + Number($(element2).width());\r\n  Element2.bottom = Number($(element2).offset().top) + Number($(element2).height());\r\n\r\n  if (Element1.right > Element2.left && Element1.left < Element2.right && Element1.top < Element2.bottom && Element1.bottom > Element2.top) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\n\r\n\r\n//https://www.openstreetmap.org/ is useful for getting coordinates and images\r\nvar x_range = [{{longitude_min}},{{longitude_max}}];\r\nvar y_range = [{{latitude_min}},{{latitude_max}}];\r\nvar x_width = x_range[1] - x_range[0];\r\nvar y_width = y_range[1] - y_range[0];\r\n\r\nvar stimuli_locations = parent.parent.Collector.PapaParsed(Phase.get_stim(\"{{location_sheet}}\"));\r\nconsole.log(\"stimuli_locations\");\r\nconsole.log(stimuli_locations);\r\n\r\n\r\nfunction x_y_positions(longitude, latitude){\r\n  var x_pos = parseFloat($(\"#campus_map\").css(\"width\").replace(\"px\",\"\")) * (longitude - x_range[0])/x_width\r\n  var y_pos = parseFloat($(\"#campus_map\").css(\"height\").replace(\"px\",\"\")) * (1-(latitude - y_range[0])/y_width)\r\n  return [x_pos,y_pos];\r\n}\r\n\r\n\r\nstimuli_locations.forEach(function(this_location, index){\r\n  location_element = $(\"<button>\");\r\n  location_element.html(\"?\")\r\n    .addClass(\"btn\")\r\n    .addClass(\"btn-secondary\")\r\n    .addClass(\"location\")\r\n    .prop(\"id\",this_location.id)\r\n    .prop(\"disabled\",true)\r\n    .css(\"position\", \"absolute\");\r\n    \r\n  if(this_location.hidden == \"yes\"){\r\n    location_element.css(\"display\", \"none\");\r\n  }\r\n  if(this_location.class !== \"\"){\r\n    location_element.addClass(this_location.class);\r\n  }\r\n  \r\n  $(document.body).append(location_element);\r\n  [x_pos,y_pos] = x_y_positions(this_location.long, this_location.lat);\r\n  center_coords(x_pos, y_pos, location_element);\r\n});\r\n\r\n$(\"#show_locations\").on(\"click\", function(){\r\n  $(\".location\").show();\r\n  $(\".location\").removeClass(\"btn-secondary\", false);\r\n  $(\".location\").addClass(\"btn-primary\", false);\r\n  $(\".location\").prop(\"disabled\", false);\r\n});\r\n\r\n$(\".location\").on(\"click\", function(){\r\n  var this_row = stimuli_locations.filter(row => row.id == $(this)[0].id)[0];\r\n  bootbox.alert(this_row.main_text);\r\n})\r\n\r\nfunction detect_location(x_pos, y_pos){\r\n  stimuli_locations.forEach(function(this_location, index){\r\n    if(collidesWith($(\"#detection_radius\")[0], $(\"#\" + this_location.id)[0])){\r\n      $(\"#\" + this_location.id).html(this_location[\"btn_text\"]);\r\n      $(\"#\" + this_location.id).removeClass(\"btn-secondary\", false);\r\n      $(\"#\" + this_location.id).addClass(\"btn-primary\", false);\r\n      $(\"#\" + this_location.id).prop(\"disabled\", false);\r\n    }\r\n  });\r\n}\r\n\r\nfunction getLocation() {\r\n  console.log(navigator);\r\n  if (navigator.geolocation) {\r\n    navigator.geolocation.getCurrentPosition(function(position){\r\n      [x_pos,y_pos] = x_y_positions(position.coords.longitude, position.coords.latitude);\r\n      x_pos += pilot_object.right;\r\n      y_pos += pilot_object.down;\r\n  \r\n      \r\n      center_coords(x_pos,y_pos, $(\"#your_location\"));\r\n      center_coords(x_pos,y_pos, $(\"#detection_radius\"));\r\n      \r\n      detect_location(x_pos, y_pos);\r\n      $(\"#lat_long\").html(position.coords.latitude + \"-\" + position.coords.longitude);\r\n      \r\n      \r\n    }, function(error){\r\n      //[x_pos,y_pos] = x_y_positions(position.coords.longitude, position.coords.latitude);\r\n      \r\n      var x_pos = parseFloat($(\"#campus_map\").css(\"width\").replace(\"px\",\"\")) * .5 + pilot_object.right;\r\n      var y_pos = parseFloat($(\"#campus_map\").css(\"height\").replace(\"px\",\"\")) * .5 + pilot_object.down;\r\n      \r\n      center_coords(x_pos,y_pos, $(\"#your_location\"));\r\n      center_coords(x_pos,y_pos, $(\"#detection_radius\"));\r\n      \r\n      detect_location(x_pos, y_pos);\r\n      $(\"#lat_long\").html(x_pos + \"-\" + y_pos);\r\n      \r\n      console.log(\"error:\" + error.message);\r\n    });\r\n  } else { \r\n    x.innerHTML = \"Geolocation is not supported by this browser.\";\r\n  }\r\n}\r\n\r\ngetLocation();\r\nlocation_interval = setInterval(function(){\r\n  getLocation();\r\n},5000);\r\n</script>\r\n\r\n</body>\r\n</html>"
  },
  "phasetypes": {
    "instruct": "[[[LOCATION]]]../Default/DefaultPhaseTypes/instruct.html",
    "geo_location": "[[[LOCATION]]]../User/PhaseTypes/geo_location.html"
  },
  "procs_csv": {},
  "stims_csv": {}
}